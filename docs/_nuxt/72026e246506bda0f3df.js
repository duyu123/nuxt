(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{170:function(e,o,r){var content=r(171);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(54).default)("6b84d0eb",content,!0,{sourceMap:!1})},171:function(e,o,r){var n=r(53),c=r(172),t=r(173);o=n(!1);var l=c(t);o.push([e.i,".container{width:100%;height:100%;text-align:center}.container__mobile{height:810px;width:435px;margin:auto;background:url("+l+") no-repeat 50%;background-size:cover}.container__mobile--image{width:320px;height:400px;margin-top:116px}.img-input{visibility:hidden}.btn{position:absolute;bottom:200px}",""]),e.exports=o},173:function(e,o,r){e.exports=r.p+"img/405c3af.png"},178:function(e,o){},179:function(e,o){},180:function(e,o){},184:function(e){e.exports=JSON.parse('{"brands":[{"name":"圣罗兰","series":[{"name":"莹亮纯魅唇膏","lipsticks":[{"color":"#D62352","id":"49","name":"撩骚"},{"color":"#DC4B41","id":"14","name":"一见倾心"},{"color":"#B22146","id":"05","name":"浮生若梦"},{"color":"#A25356","id":"08","name":"纯真梦幻"},{"color":"#DF3443","id":"12","name":"红粉派对"},{"color":"#E06C68","id":"15","name":"珊瑚恋人"},{"color":"#842C71","id":"19","name":"华丽转身"},{"color":"#D13C4F","id":"43","name":"唇印"},{"color":"#B71D32","id":"04","name":"危情禁果"},{"color":"#DE2361","id":"06","name":"情窦初开"},{"color":"#B05856","id":"09","name":"裸色暗恋"},{"color":"#E06F70","id":"13","name":"邂逅巴黎"},{"color":"#CD4143","id":"16","name":"糖果女孩"},{"color":"#EC6A70","id":"41","name":"告白"},{"color":"#EFE9DE","id":"42","name":"初恋"},{"color":"#C60F2F","id":"45","name":"拥吻"},{"color":"#BB6868","id":"47","name":"心跳"},{"color":"#E0186B","id":"50","name":"约定"},{"color":"#D45E85","id":"52","name":"游戏"},{"color":"#C16E6F","id":"44","name":"意外"},{"color":"#D1121B","id":"46","name":"钟情"},{"color":"#8E243E","id":"48","name":"夜色"},{"color":"#EE7486","id":"51","name":"私语"}]},{"name":"纯口红","lipsticks":[{"id":"19","color":"#B13C79","name":"玫红色"},{"id":"13","color":"#BB1813","name":"正橘色"},{"id":"52","color":"#EA4E59","name":"星星色"},{"id":"01","color":"#B8122B","name":"正红色"},{"id":"17","color":"#F75E70","name":"嫣粉纱丽"},{"id":"07","color":"#CB2276","name":"雅紫纱蓉"},{"id":"09","color":"#C27482","name":"绛紫丝绒"},{"id":"11","color":"#C06B72","name":"藕粉云罗"},{"id":"16","color":"#BB444A","name":"绯红香缎"},{"id":"22","color":"#E86E9F","name":"莹亮裸粉"},{"id":"23","color":"#DE6F5C","name":"杏色府绸"},{"id":"26","color":"#CC6D84","name":"堇色流纱"},{"id":"36","color":"#ED695D","name":"珊瑚雪纺"},{"id":"49","color":"#DC4D8D","name":"想你色"},{"id":"51","color":"#FA6C55","name":"莹亮珊瑚橙"},{"id":"56","color":"#D9100E","name":"橙红织锦"},{"id":"59","color":"#B96463","name":"裸色薄纱"},{"id":"207","color":"#CA4061","name":"珊瑚柚"},{"id":"208","color":"#D60846","name":"玫红色"},{"id":"27","color":"#D24379","name":"纯真玫红"},{"id":"50","color":"#DC2923","name":"前卫霓红"},{"id":"57","color":"#C7153D","name":"明亮裸唇"},{"id":"58","color":"#B25D84","name":"明亮淡紫"},{"id":"201","color":"#B01020","name":"红唇印象"},{"id":"202","color":"#9E2C2C","name":"疯狂玫瑰"},{"id":"203","color":"#940220","name":"摇滚红唇"},{"id":"205","color":"#550001","name":"天然浆果"},{"id":"72","color":"#9A1B2F","name":""},{"id":"73","color":"#CF0410","name":""},{"id":"74","color":"#E0291B","name":""},{"id":"211","color":"#E4004F","name":"DECADENT"},{"id":"212","color":"#A53B4F","name":"ALTERNATIVEPLUM"},{"id":"213","color":"#E94138","name":"ORANGE SEVENTIES"},{"id":"215","color":"#E34E90","name":"LUST FOR PINK"},{"id":"216","color":"#DE455A","name":"RED CLASH"},{"id":"217","color":"#DE455A","name":"NUDE TROUBLE"}]},{"name":"莹亮纯魅美唇膏","lipsticks":[{"id":"11","color":"#D51768","name":"玫色游戏"},{"id":"3","color":"#F18885","name":"玫瑰轻语"},{"id":"8","color":"#E52322","name":"橙色放纵"},{"id":"4","color":"#DA0140","name":"桃红欲望"},{"id":"1","color":"#C05B60","name":"裸色幻想"},{"id":"2","color":"#E87593","name":"粉色嬉戏"},{"id":"5","color":"#630F28","name":"梅色撩拨"},{"id":"6","color":"#CC0824","name":"红色触碰"},{"id":"7","color":"#ED6D68","name":"珊瑚挑逗"},{"id":"9","color":"#E73458","name":"粉色纵情"},{"id":"10","color":"#A00F30","name":"绯红诱惑"},{"id":"12","color":"#B81D3D","name":"苺色暧昧"}]},{"name":"纯色唇釉叛逆裸唇","lipsticks":[{"id":"12","color":"#D0011E","name":"红绯"},{"id":"46","color":"#9F182C","name":"深红色"},{"id":"50","color":"#C64E5B","name":"自然珊瑚"},{"id":"08","color":"#C41304","name":"唐橘"},{"id":"07","color":"#CC2010","name":"蜜柚"},{"id":"09","color":"#D4020E","name":"红釉"},{"id":"11","color":"#D0010B","name":"洋红"},{"id":"13","color":"#CC030E","name":"茜色"},{"id":"15","color":"#D41B40","name":"桃红"},{"id":"42","color":"#DF294E","name":"风情橘红"},{"id":"43","color":"#E23E44","name":"玫瑰歌谣"},{"id":"47","color":"#BC3250","name":"桃红色"},{"id":"48","color":"#C13E30","name":"橙色"},{"id":"49","color":"#BB325C","name":"梅子色"},{"id":"51","color":"#951E53","name":"玫红色"},{"id":"200","color":"#DC9F8F","name":"丰唇唇釉"}]},{"name":"莹亮绚染唇油","lipsticks":[{"id":"05","color":"#FF54A3","name":"樱桃情人"},{"id":"04","color":"#FF725D","name":"粉恋玫瑰"},{"id":"06","color":"#C072B5","name":"蜜桃热恋"},{"id":"07","color":"#FFD0DD","name":"橙色邂逅"},{"id":"08","color":"#FF7B1E","name":"粉色憧憬"}]},{"name":"甜吻唇颊霜","lipsticks":[{"id":"05","color":"#E21949","name":"洋红色"},{"id":"01","color":"#DD2269","name":"玫红色"},{"id":"02","color":"#E05572","name":"樱花粉"},{"id":"03","color":"#D16479","name":"裸粉色"},{"id":"04","color":"#DF4A43","name":"亮橘色"},{"id":"07","color":"#DC6B5D","name":"珊瑚橙"},{"id":"08","color":"#DE6A78","name":"珊瑚粉"},{"id":"09","color":"#BF7083","name":"珊瑚柚"},{"id":"12","color":"#AD625E","name":"摩卡色"}]},{"name":"莹亮灿金唇彩","lipsticks":[{"id":"49","color":"#D03370","name":"骚动"},{"id":"207","color":"#D11746","name":"激情"},{"id":"03","color":"#D34E59","name":"憧憬"},{"id":"15","color":"#AB3B48","name":"突然"},{"id":"30","color":"#DD6053","name":"甜蜜"},{"id":"203","color":"#FE645A","name":"心跳"},{"id":"204","color":"#FE5B56","name":"意外"},{"id":"206","color":"#B80722","name":"炙热"}]}]},{"name":"香奈儿可可小姐","series":[{"name":"唇膏水亮","lipsticks":[{"id":"69","color":"#F17365","name":"传情"},{"id":"46","color":"#E87268","name":"自由"},{"id":"122","color":"#EA4D4A","name":"CORAIL RADIEUX"},{"id":"97","color":"#D53D49","name":"洒脱"},{"id":"44","color":"#FD4334","name":"水漾纱丽"},{"id":"507","color":"#E94648","name":"倔强"},{"id":"114","color":"#FF3220","name":"SHIPSHAPE"},{"id":"91","color":"#C12A33","name":"波希米亚"},{"id":"84","color":"#CE1220","name":"对白"},{"id":"57","color":"#EB6F79","name":"冒险"},{"id":"116","color":"#EC5193","name":"MIGHTY"},{"id":"54","color":"#D1918D","name":"卡柏男孩"},{"id":"79","color":"#E86A75","name":"传奇"},{"id":"497","color":"#ED5A5E","name":"勇敢"},{"id":"132","color":"#E93A5B","name":"ROSE RAVISSANT"},{"id":"87","color":"#F8657F","name":"约会"},{"id":"55","color":"#F14C77","name":"浪漫爱情"},{"id":"118","color":"#EB2755","name":"ENERGY"},{"id":"62","color":"#E12948","name":"蒙特卡罗"},{"id":"134","color":"#E7394A","name":"RENOUVEAU"},{"id":"98","color":"#CC4D68","name":"率真"},{"id":"60","color":"#BB395F","name":"安蒂岗妮"},{"id":"61","color":"#C54463","name":"幸福时光"}]},{"name":"炫亮魅力唇膏","lipsticks":[{"id":"90","color":"#FC6E48","name":"活泼"},{"id":"96","color":"#FA421C","name":"古灵精怪"},{"id":"182","color":"#E02E20","name":"VIBRANTE"},{"id":"152","color":"#E82F2C","name":"隐约"},{"id":"172","color":"#E40021","name":"ROUGE REBELLE"},{"id":"135","color":"#99413D","name":"谜情"},{"id":"99","color":"#8A010D","name":"海盗"},{"id":"176","color":"#A80D1F","name":"INDÉPENDANTE"},{"id":"169","color":"#8E2622","name":"ROUGE TENTATION"},{"id":"91","color":"#E45661","name":"吸引力"},{"id":"179","color":"#ED6160","name":"LUMINOUS"},{"id":"94","color":"#FC3E6E","name":"着迷"},{"id":"138","color":"#D93E5E","name":"激昂"},{"id":"136","color":"#EF4246","name":"悠扬"},{"id":"178","color":"#BF5363","name":"NEW PRODIGIOUS"},{"id":"158","color":"#B24957","name":"VIREVOLTANTE"},{"id":"93","color":"#CD0043","name":"兴奋"},{"id":"165","color":"#C82C40","name":"ÉBLOUISSANTE"},{"id":"184","color":"#C80F2E","name":"INCANTEVOLE"},{"id":"102","color":"#B20032","name":"悸动"}]},{"name":"炫亮魅力唇膏","lipsticks":[{"id":"90","color":"#E1527E","name":"IMAGINATION"}]},{"name":"炫亮魅力唇膏丝绒","lipsticks":[{"id":"65","color":"#E17062","name":"L\'ARISTOCRATICA"},{"id":"64","color":"#E84632","name":"FIRST LIGHT"},{"id":"57","color":"#BE2B24","name":"ROUGE FEU"},{"id":"66","color":"#E1112A","name":"L\'INDOMABILE"},{"id":"51","color":"#9E333D","name":"震撼"},{"id":"56","color":"#B23030","name":"ROUGE CHARNEL"},{"id":"38","color":"#892833","name":"迷惑"},{"id":"58","color":"#822E2E","name":"ROUGE VIE"},{"id":"63","color":"#802932","name":"NIGHTFALL"},{"id":"61","color":"#EC7879","name":"LA SECRÈTE"},{"id":"42","color":"#FE697F","name":"显眼"},{"id":"43","color":"#FA5059","name":"亲爱"},{"id":"46","color":"#C92D38","name":"慧黠"},{"id":"37","color":"#C43759","name":"纵情"},{"id":"44","color":"#F06FA5","name":"歌剧名伶"},{"id":"50","color":"#9F2F56","name":"浪漫幻想"}]}]},{"name":"迪奥","series":[{"name":"魅惑釉唇膏","lipsticks":[{"id":"457","color":"#EB636B","name":"鸡尾酒"},{"id":"487","color":"#EB5C97","name":"泡泡堂"},{"id":"550","color":"#E47082","name":"小心计"},{"id":"554","color":"#EA5344","name":"日光浴"},{"id":"564","color":"#E94858","name":"购物狂"},{"id":"577","color":"#C86378","name":"混日子"},{"id":"637","color":"#E74218","name":"热点"},{"id":"644","color":"#EA5331","name":"生存游戏"},{"id":"684","color":"#E60860","name":"人生赢家"},{"id":"740","color":"#902216","name":"可乐部"},{"id":"744","color":"#E51E1B","name":"花蝴蝶"},{"id":"794","color":"#95358C","name":"天生玩家"},{"id":"857","color":"#A01314","name":"好莱坞大咖"},{"id":"867","color":"#901A32","name":"红酒"},{"id":"877","color":"#C4032B","name":"给我迪奥"},{"id":"882","color":"#BB0E63","name":"野蛮女友"},{"id":"904","color":"#391E1D","name":"黑咖啡"},{"id":"924","color":"#602227","name":"不羁"}]},{"name":"魅惑染唇蜜","lipsticks":[{"id":"351","color":"#D8707D","name":"魅惑染唇蜜"},{"id":"421","color":"#AD5F56","name":"魅惑染唇蜜"},{"id":"451","color":"#E55461","name":"Natural Coral"},{"id":"491","color":"#A76165","name":"魅惑染唇蜜"},{"id":"761","color":"#E13D5D","name":"Natural Cherry"},{"id":"771","color":"#974249","name":"Natural Berry"},{"id":"881","color":"#EC6292","name":"Natural Pink"}]},{"name":"烈艳蓝金唇膏","lipsticks":[{"id":"028","color":"#E83F4A","name":"Actrice"},{"id":"426","color":"#D58F7F","name":""},{"id":"481","color":"#B76566","name":""},{"id":"047","color":"#E40068","name":"迪奥小姐"},{"id":"781","color":"#833B43","name":""},{"id":"060","color":"#D36179","name":"首映礼"},{"id":"080","color":"#D91820","name":"微笑正红"},{"id":"861","color":"#B52237","name":""},{"id":"996","color":"#BD7376","name":""},{"id":"999","color":"#A82628","name":""},{"id":"999","color":"#A82628","name":"Metallic"},{"id":"207","color":"#BBC3C2","name":"蒙田灰"},{"id":"277","color":"#DB7096","name":"Osée"},{"id":"343","color":"#EF7C6B","name":"Panaréa"},{"id":"351","color":"#E46177","name":"Dansante"},{"id":"459","color":"#D1546E","name":"Charnelle"},{"id":"520","color":"#E4003E","name":"Feel Good"},{"id":"553","color":"#DA4F4E","name":"Sillage"},{"id":"567","color":"#EA5069","name":"Rose en Dior"},{"id":"576","color":"#F08182","name":"Pretty Matte"},{"id":"602","color":"#2E4763","name":"狂想"},{"id":"642","color":"#EA5155","name":"Ready"},{"id":"643","color":"#E84617","name":"Stand Out"},{"id":"652","color":"#ED6C7F","name":"珊瑚"},{"id":"663","color":"#D0546B","name":"Désir"},{"id":"665","color":"#BD5154","name":"Rêvée"},{"id":"678","color":"#CC4A6B","name":"Culte"},{"id":"746","color":"#DC002C","name":"Favorite"},{"id":"756","color":"#E52F31","name":"Panache"},{"id":"766","color":"#CF1D59","name":"Rose Harpers"},{"id":"771","color":"#E96C81","name":"Radiant Matte"},{"id":"772","color":"#CB7A84","name":"Classic Matte"},{"id":"775","color":"#E1244B","name":"Hyde Park"},{"id":"787","color":"#E6699D","name":"Exuberant Matte"},{"id":"789","color":"#96518F","name":"痴迷"},{"id":"844","color":"#E0262E","name":"Trafalgar"},{"id":"856","color":"#B62631","name":"Célèbre"},{"id":"888","color":"#EB5958","name":"Strong Matte"},{"id":"962","color":"#86556D","name":"奇葩"},{"id":"999","color":"#BE020D","name":""},{"id":"999","color":"#CC434D","name":"传奇红唇哑光"}]}]},{"name":"美宝莲","series":[{"name":"绝色持久唇膏绒情哑光","lipsticks":[{"id":"MAT5","color":"#99163A","name":""},{"id":"R45M","color":"#A22040","name":""},{"id":"R41M","color":"#C31431","name":"COLOR SENSATIONAL VIVID MATTE"},{"id":"MAT1","color":"#EC5C80","name":""},{"id":"MAT3","color":"#EC594F","name":""},{"id":"MAT5","color":"#F193AD","name":""}]}]},{"name":"纪梵希","series":[{"name":"高定香榭天鹅绒唇膏（小羊皮）","lipsticks":[{"id":"N103","color":"#DF695F","name":"优雅米色"},{"id":"N103","color":"#C74A52","name":"迷人茶色"},{"id":"N105","color":"#A82A40","name":"阳光小麦"},{"id":"N202","color":"#F43556","name":"幻想玫瑰"},{"id":"N204","color":"#BE2446","name":"樱桃玫瑰"},{"id":"N205","color":"#E70060","name":"加仑玫瑰"},{"id":"N304","color":"#F82131","name":"加州红"},{"id":"N306","color":"#E50036","name":"法式红"},{"id":"N303","color":"#FA054B","name":"珊瑚红"},{"id":"N302","color":"#FB2C60","name":"芭比红"},{"id":"305","color":"#FA013D","name":"缪斯红"},{"id":"201","color":"#FA6173","name":"糖果玫瑰"},{"id":"209","color":"#F60071","name":"明艳玫瑰"},{"id":"210","color":"#FF4D89","name":"大丽玫瑰"},{"id":"315","color":"#AC003A","name":"覆盆子红"},{"id":"317","color":"#E03B35","name":"暖柿红"},{"id":"307","color":"#93142F","name":"石榴红"},{"id":"301","color":"#DF3751","name":"西瓜红"},{"id":"214","color":"#BB3C5A","name":"复古玫瑰"},{"id":"323","color":"#C53057","name":"高雅梅"},{"id":"326","color":"#932844","name":"勃艮第红"},{"id":"327","color":"#9B325A","name":"莓紫红"},{"id":"324","color":"#EE4650","name":"秀场红"},{"id":"325","color":"#E11020","name":"圣水红"},{"id":"215","color":"#844452","name":"橡皮裸肌"},{"id":"329","color":"#731919","name":"红色高跟鞋"},{"id":"330","color":"#64263F","name":"复古提琴"},{"id":"331","color":"#58151E","name":"赤霞珠"}]},{"name":"禁忌之吻霓虹唇膏","lipsticks":[{"id":"11","color":"#BA353C","name":"御姐橘"},{"id":"7","color":"#8B2844","name":"幻想紫"},{"id":"8","color":"#B12252","name":"暗夜莓"},{"id":"9","color":"#DD485B","name":"沉睡红"},{"id":"10","color":"#B53D52","name":"帅T红"},{"id":"12","color":"#B9282D","name":"女巫红"},{"id":"13","color":"#CA292E","name":"禁忌红"},{"id":"14","color":"#CB2D21","name":"鬼魅红"},{"id":"15","color":"#D43A29","name":"夜光橘"},{"id":"16","color":"#DF4541","name":"潮女红"},{"id":"18","color":"#D35C5E","name":"童话粉"},{"id":"22","color":"#EC2663","name":"精灵粉"},{"id":"23","color":"#C62E54","name":"魔女粉"},{"id":"24","color":"#AA2260","name":"傲娇粉"},{"id":"17","color":"#DD5852","name":"乙女粉"},{"id":"19","color":"#E36476","name":"治愈粉"},{"id":"20","color":"#EC6284","name":"萝莉粉"},{"id":"21","color":"#EA586F","name":"元气粉"}]}]}]}')},185:function(e,o,r){e.exports=r.p+"img/6ae8095.png"},191:function(e,o,r){"use strict";r.r(o);r(162),r(163),r(108),r(104),r(77),r(78),r(15),r(55),r(73),r(38),r(31),r(39);var n=r(5),c=r(154),t=r(155),l=r(159),d=r(156),m=r(160),E=r(158),h=r(161),C=(r(170),r(190)),D=r(183),f=function(e){function o(){var e;return Object(c.a)(this,o),(e=Object(l.a)(this,Object(d.a)(o).apply(this,arguments))).fileUrl="",e.btnText="点击上传图片",e.dialog=!1,e.mouthColors=[],e}var E,h;return Object(m.a)(o,e),Object(t.a)(o,[{key:"mounted",value:function(){this.initModel()}},{key:"initModel",value:(h=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(C.c.faceLandmark68Net.load("/weights")),e.next=4,C.c.faceLandmark68Net.load("/weights");case 4:return e.next=6,C.c.ssdMobilenetv1.load("/weights");case 6:console.log("finish"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.btnText="点击上传图片";case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return h.apply(this,arguments)})},{key:"clickBtn",value:function(){this.btnText&&this.fileInput.click()}},{key:"isPC",value:function(){for(var e=navigator.userAgent,o=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],r=!0,n=0;n<o.length;n++)if(e.indexOf(o[n])>0){r=!1;break}return r}},{key:"getMouthColor",value:function(e,o){for(var r=e.getContext("2d"),i=0;i<o.length;i++){var data=r.getImageData(o[i]._x,o[i]._y,1,1);this.mouthColors[i]=data.data}}},{key:"startRecognition",value:(E=Object(n.a)(regeneratorRuntime.mark((function e(canvas){var o,n,c,t,l,d,i,m,E,h,D,f,A,B,v,F,k,x,w,R,I,O,T,y,N,U,L,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.btnText="识别中...",e.next=4,C.b(canvas).withFaceLandmarks();case 4:o=e.sent,n=o.landmarks.getMouth(),this.getMouthColor(canvas,n),c=r(184),t=null,l=null,d=null,i=0;case 12:if(!(i<this.mouthColors.length)){e.next=84;break}m=this.mouthColors[i],E=!0,h=!1,D=void 0,e.prev=17,f=c.brands[Symbol.iterator]();case 19:if(E=(A=f.next()).done){e.next=67;break}B=A.value,v=!0,F=!1,k=void 0,e.prev=24,x=B.lipsticks[Symbol.iterator]();case 26:if(v=(w=x.next()).done){e.next=50;break}for(R=w.value,I=!0,O=!1,T=void 0,e.prev=31,y=R.lipsticks[Symbol.iterator]();!(I=(N=y.next()).done);I=!0)U=N.value,L=this.hex2rgb(U.color.toLowerCase()),S=this.compareColor(m[0],m[1],m[2],L.r,L.g,L.b),null===t?(t=S,l="".concat(B.name).concat(R.name).concat(U.name," #").concat(U.id),d=m):S<t&&(t=S,l="".concat(B.name).concat(R.name).concat(U.name," #").concat(U.id),d=m);e.next=39;break;case 35:e.prev=35,e.t0=e.catch(31),O=!0,T=e.t0;case 39:e.prev=39,e.prev=40,I||null==y.return||y.return();case 42:if(e.prev=42,!O){e.next=45;break}throw T;case 45:return e.finish(42);case 46:return e.finish(39);case 47:v=!0,e.next=26;break;case 50:e.next=56;break;case 52:e.prev=52,e.t1=e.catch(24),F=!0,k=e.t1;case 56:e.prev=56,e.prev=57,v||null==x.return||x.return();case 59:if(e.prev=59,!F){e.next=62;break}throw k;case 62:return e.finish(59);case 63:return e.finish(56);case 64:E=!0,e.next=19;break;case 67:e.next=73;break;case 69:e.prev=69,e.t2=e.catch(17),h=!0,D=e.t2;case 73:e.prev=73,e.prev=74,E||null==f.return||f.return();case 76:if(e.prev=76,!h){e.next=79;break}throw D;case 79:return e.finish(76);case 80:return e.finish(73);case 81:i++,e.next=12;break;case 84:this.addResult(d[0],d[1],d[2],d[3],l),e.next=92;break;case 87:e.prev=87,e.t3=e.catch(0),console.error(e.t3),this.dialog=!0,this.btnText="点击上传图片";case 92:case"end":return e.stop()}}),e,this,[[0,87],[17,69,73,81],[24,52,56,64],[31,35,39,47],[40,,42,46],[57,,59,63],[74,,76,80]])}))),function(e){return E.apply(this,arguments)})},{key:"getImageUrl",value:function(){var e=this,o=this.fileInput.files[0];if(null!=o)if(this.btnText="解析图片中...",this.fileUrl=window.URL.createObjectURL(o),console.log(this.isPC()),this.isPC()){this.fileUrl=window.URL.createObjectURL(o);var r=new FileReader;r.readAsDataURL(o),r.onload=function(){var o=Object(n.a)(regeneratorRuntime.mark((function o(r){var c,t;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:(c=new Image).src=r.target.result,t=e,c.onload=Object(n.a)(regeneratorRuntime.mark((function e(){var canvas,o,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(canvas=document.createElement("canvas")).width=this.width,canvas.height=this.height,o=canvas.getContext("2d"),r=this.width,n=this.height,o.drawImage(c,0,0,r,n),t.startRecognition(canvas);case 8:case"end":return e.stop()}}),e,this)})));case 4:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}else{var c,t=this;D.getData(o,(function(){var e=this;c=D.getTag(this,"Orientation");var r=new FileReader;r.readAsDataURL(o),r.onload=function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(l){var d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log(1),1!==c&&void 0!==c){r.next=5;break}return e.fileUrl=window.URL.createObjectURL(o),e.btnText="识别中...",r.abrupt("return");case 5:(d=new Image).src=l.target.result,d.onload=Object(n.a)(regeneratorRuntime.mark((function e(){var canvas,r,n,l,m,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((canvas=document.createElement("canvas")).width=this.width,canvas.height=this.height,r=canvas.getContext("2d"),n=this.width,l=this.height,r.drawImage(d,0,0,n,l),""===c||1===c){e.next=25;break}e.t0=c,e.next=6===e.t0?11:8===e.t0?14:3===e.t0?17:20;break;case 11:return console.log("顺时针旋转270度"),t.rotateImg(d,"left",canvas),e.abrupt("break",20);case 14:return console.log("顺时针旋转90度"),t.rotateImg(d,"right",canvas),e.abrupt("break",20);case 17:return console.log("顺时针旋转180度"),t.rotateImg(d,"horizen",canvas),e.abrupt("break",20);case 20:return m=canvas.toDataURL(o.type,1),E=t.convertBase64UrlToBlob(m),e.next=24,window.URL.createObjectURL(E);case 24:t.fileUrl=e.sent;case 25:t.startRecognition(canvas);case 26:case"end":return e.stop()}}),e,this)})));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}))}}},{key:"addResult",value:function(e,g,b,a,text){this.resSection.style.visibility="visible",this.resColor.style.background="rgba(".concat(e,",").concat(g,",").concat(b,",").concat(a,")"),this.resText.innerText=text,this.btnText="点击上传图片"}},{key:"rgba2hex",value:function(e,g,b){if(e>255||g>255||b>255)throw"Invalid color component";return"#"+((1<<24)+(e<<16)+(g<<8)+b).toString(16).slice(1).toUpperCase()}},{key:"hex2rgb",value:function(e){var o=e.match(/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);return{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}}},{key:"compareColor",value:function(e,o,r,n,c,t){var l=Math.pow(e-n,2),g=Math.pow(o-c,2),b=Math.pow(r-t,2);return Math.sqrt(l+g+b)}},{key:"rotateImg",value:function(img,e,canvas){if(console.log("开始旋转图片"),null!=img){var o=img.height,r=img.width,n=2;"right"==e?n++:"left"==e?n--:"horizen"==e&&(n=2);var c=90*n*Math.PI/180,t=canvas.getContext("2d");switch(n){case 0:canvas.width=r,canvas.height=o,t.drawImage(img,0,0);break;case 1:canvas.width=o,canvas.height=r,t.rotate(c),t.drawImage(img,0,-o);break;case 2:canvas.width=r,canvas.height=o,t.rotate(c),t.drawImage(img,-r,-o);break;case 3:canvas.width=o,canvas.height=r,t.rotate(c),t.drawImage(img,-r,0)}console.log("结束旋转图片")}}},{key:"convertBase64UrlToBlob",value:function(e){for(var o=window.atob(e.split(",")[1]),r=new ArrayBuffer(o.length),n=new Uint8Array(r),i=0;i<o.length;i++)n[i]=o.charCodeAt(i);return new Blob([r],{type:"image/png"})}},{key:"pubLipstice",value:function(image,e,o,g,b){if(image instanceof Image){for(var canvas=C.a(image),r=canvas.getContext("2d"),i=0;i<7;i++)0===i?r.moveTo(e[i]._x,e[i]._y):r.lineTo(e[i]._x,e[i]._y);for(var n=16;n>=14;n--)6===n?r.moveTo(e[n]._x,e[n]._y):r.lineTo(e[n]._x,e[n]._y);for(var c=19;c>=17;c--)r.lineTo(e[c]._x,e[c]._y);r.closePath(),r.fillStyle="rgb(".concat(o,",").concat(g,",").concat(b,")"),r.fill(),canvas.toBlob((function(e){return console.log(URL.createObjectURL(e)),URL.createObjectURL(e)}))}return null}},{key:"render",value:function(){var e=arguments[0];return e("div",{class:"container"},[e("div",{class:"container__mobile"},[e("img",{attrs:{src:r(185)},class:"container__mobile--image"})]),e("input",{attrs:{type:"file",accept:"image/*"},class:"img-input",on:{change:this.getImageUrl},ref:"fileInput"}),e("button",{on:{click:this.clickBtn},class:"btn"},[this.btnText]),e("div",{class:"res-section",ref:"resSection"},[e("div",{class:"res-color",ref:"resColor"}),e("span",{class:"res-text",ref:"resText"})])])}}]),o}(h.c);Object(E.a)([Object(h.b)("fileInput")],f.prototype,"fileInput",void 0),Object(E.a)([Object(h.b)("resSection")],f.prototype,"resSection",void 0),Object(E.a)([Object(h.b)("resColor")],f.prototype,"resColor",void 0),Object(E.a)([Object(h.b)("resText")],f.prototype,"resText",void 0),f=Object(E.a)([h.a],f),o.default=f}}]);